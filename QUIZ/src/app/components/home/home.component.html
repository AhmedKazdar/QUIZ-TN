<div class="home-container">
  <!-- Landing Section (shown when not authenticated) -->
  <div *ngIf="!isAuthenticated" class="landing-section">
    <div class="welcome-card text-center">
      <h1>Welcome to Quiz TN</h1>
      <p class="lead">Test your knowledge and challenge others!</p>
      
      <div class="cta-buttons mt-4">
        <button [routerLink]="['/quiz', 'solo']" class="btn btn-primary btn-lg me-3" type="button">
          <i class="bi bi-joystick me-2"></i>Play Solo
        </button>
        <button routerLink="/register" class="btn btn-outline-primary btn-lg">
          <i class="bi bi-people-fill me-2"></i>Play Online
        </button>
      </div>
    </div>
  </div>

  <!-- Dashboard Section (shown when authenticated) -->
  <div *ngIf="isAuthenticated" class="dashboard-section">
    <div class="user-info" *ngIf="currentUser">
      <div class="d-flex justify-content-between align-items-start">
        <div>
          <h1>Welcome , {{ currentUser.username || 'User' }}!</h1>
          <p class="text-muted" *ngIf="currentUser.phoneNumber">
            <i class="bi bi-telephone-fill me-2"></i>+216 {{ currentUser.phoneNumber }}
          </p>
        </div>
      <!--   <button class="btn btn-outline-danger btn-sm" (click)="logout()" title="Logout">
          <i class="bi bi-box-arrow-right me-1"></i> Logout
        </button> -->
      </div>
    </div>

     <!-- Online Users Section -->
     <div class="online-users mt-5" *ngIf="isAuthenticated && enableWebSocket">
      <div class="card">
        <div class="card-header bg-primary text-white d-flex justify-content-between align-items-center">
          <h5 class="mb-0">
            <i class="bi bi-people-fill me-2"></i>Online Users
            <span class="badge bg-light text-primary ms-2">
              {{onlineUsers.length}}
              <span class="visually-hidden">users online</span>
            </span>
          </h5>
          <div class="d-flex align-items-center">
            <div class="connection-status me-2" [ngClass]="{
              'connected': isConnected,
              'disconnected': !isConnected
            }"></div>
            <span class="badge" [ngClass]="{
              'bg-success': isConnected,
              'bg-warning text-dark': !isConnected
            }">
              {{ isConnected ? 'Connected' : 'Disconnected' }}
            </span>
          </div>
        </div>
        <!-- List removed: header-only display requested -->
      </div>
    </div>

    <div class="actions mt-4">
      <div class="quiz-mode-buttons">
        <h3 class="text-center mb-3">Choose Quiz Mode</h3>
        <div class="row g-3">
          <div class="col-md-6">
            <button class="btn btn-primary btn-lg w-100 p-4" [routerLink]="['/quiz','solo']" type="button">
              <div class="mode-icon mb-2">
                <i class="bi bi-journal-text"></i>
              </div>
              <h4>Practice Mode</h4>
              <p class="small text-light">Test your knowledge at your own pace</p>
            </button>
          </div>
          <div class="col-md-6">
            <button class="btn btn-success btn-lg w-100 p-4" [routerLink]="['/quiz', 'online']">
              <div class="mode-icon mb-2">
                <i class="bi bi-people"></i>
              </div>
              <h4>Online Mode</h4>
              <p class="small text-light">Compete with other players in real-time</p>
            </button>
          </div>
        </div>
      </div>

     
    </div>
  </div>
</div>